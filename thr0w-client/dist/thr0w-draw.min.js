!function(){"use strict";function t(t){function e(t){"mousedown"===t.type?(w=t.pageX-k,h=t.pageY-L):(w=Math.floor(t.changedTouches[0].pageX)-k,h=Math.floor(t.changedTouches[0].pageY)-L),v=!0,y.beginPath()}function a(t){var e,a;v&&("mousemove"===t.type?(e=t.pageX-k,a=t.pageY-L):(e=Math.floor(t.changedTouches[0].pageX)-k,a=Math.floor(t.changedTouches[0].pageY)-L),y.moveTo(w,h),y.lineTo(e,a),y.stroke(),w=e,h=a)}function r(t){t.preventDefault(),v&&(v=!1,y.closePath())}function d(){p=!p,i(),o()}function o(){p?(b.classList.remove("thr0w_draw_canvas--closed"),m.classList.remove("thr0w_draw_palatte--closed"),T.classList.remove("thr0w_draw_palatte__thumb--closed"),T.classList.add("thr0w_draw_palatte__thumb--open")):(s(),b.classList.add("thr0w_draw_canvas--closed"),m.classList.add("thr0w_draw_palatte--closed"),T.classList.remove("thr0w_draw_palatte__thumb--open"),T.classList.add("thr0w_draw_palatte__thumb--closed"))}function l(){for(u=this.style.backgroundColor,E=0;E<C.length;E++)C[E].classList.remove("thr0w_draw_palatte__color_picker--selected");this.classList.add("thr0w_draw_palatte__color_picker--selected"),i(),c()}function c(){y.strokeStyle=u}function s(){var t=m.querySelector(".thr0w_draw_palatte__color_picker--default");for(u=t.style.backgroundColor,b.width=b.width,E=0;E<C.length;E++)C[E].classList.remove("thr0w_draw_palatte__color_picker--selected");t.classList.add("thr0w_draw_palatte__color_picker--selected"),y.strokeStyle=u}function _(){return{open:p,color:u}}function n(t){t.open!==p&&(p=!p,o()),u=t.color,c()}function i(){S.update(),S.idle()}if(!t||"object"!=typeof t)throw 400;var w,h,p=!1,u=null,v=!1,f=t.getFrame(),g=t.getContent(),k=f.offsetLeft+g.offsetLeft,L=f.offsetTop+g.offsetTop,m=document.createElement("div"),b=document.createElement("canvas"),y=b.getContext("2d");m.classList.add("thr0w_draw_palatte"),m.classList.add("thr0w_draw_palatte--closed"),m.innerHTML=['<div class="thr0w_draw_palatte__color_picker--default thr0w_draw_palatte__color_picker" style="background: black;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: white;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: red;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: orange;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: yellow;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: green;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: blue;">',"</div>",'<div class="thr0w_draw_palatte__color_picker" style="background: purple;">',"</div>",'<div class="thr0w_draw_palatte__thumb thr0w_draw_palatte__thumb--closed">',"</div>"].join("\n"),g.appendChild(m);var E,T=m.querySelector(".thr0w_draw_palatte__thumb"),C=m.querySelectorAll(".thr0w_draw_palatte__color_picker");for(b.classList.add("thr0w_draw_canvas"),b.classList.add("thr0w_draw_canvas--closed"),b.width=t.getWidth(),b.height=t.getHeight(),b.addEventListener("mousedown",e),b.addEventListener("mousemove",a),b.addEventListener("mouseup",r),b.addEventListener("mouseleave",r),b.addEventListener("touchstart",e),b.addEventListener("touchmove",a),b.addEventListener("touchend",r),b.addEventListener("touchcancel",r),g.appendChild(b),T.addEventListener("click",d),E=0;E<C.length;E++)C[E].addEventListener("click",l);s();var S=new window.thr0w.Sync(t,"thr0w_draw_"+g.id,_,n)}if(void 0===window.thr0w)throw 400;var e={};e.load=t,window.thr0w.draw=e}();